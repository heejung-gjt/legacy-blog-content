<!DOCTYPE html>
<html>
<head>


    <!-- Document Settings -->
    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />


    <!--syntax.css 추가-->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!--font awesome-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">

    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="개발 공부하는 블로그" />
    <link rel="shortcut icon" href="https://heejung-gjt.github.io/assets/built/images/favicon.png" type="image/png" />
    <link rel="canonical" href="https://heejung-gjt.github.io/python-csv-json" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Studying  Develop" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="python csv와 json 이용하여 데이터 인코딩, 디코딩하기" />
    <meta property="og:description" content="👉 csv와 json ✔ CSV csv는 csv 형식의 표 형식 데이터를 읽고 쓰는 클래스를 구현한다. customer.csv가 파일객체이면 newline=’‘로 열려야 한다. csv 파일에서 읽은 각 행(row)은 문자열 리스트로 반환된다 import csv with open('./customers.csv', newline='') as customer_csv: customer = csv.reader(customer_csv) for row in customer: print(row) """ 결과 ['CustomerID', 'CustomerName', 'ContactName', 'Address', 'City'," />
    <meta property="og:url" content="https://heejung-gjt.github.io/python-csv-json" />
    <meta property="og:image" content="https://heejung-gjt.github.io/assets/built/images/python-cover.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2021-02-03T13:40:00+09:00" />
    <meta property="article:modified_time" content="2021-02-03T13:40:00+09:00" />
    <meta property="article:tag" content="Python" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="python csv와 json 이용하여 데이터 인코딩, 디코딩하기" />
    <meta name="twitter:description" content="👉 csv와 json ✔ CSV csv는 csv 형식의 표 형식 데이터를 읽고 쓰는 클래스를 구현한다. customer.csv가 파일객체이면 newline=’‘로 열려야 한다. csv 파일에서 읽은 각 행(row)은 문자열 리스트로 반환된다 import csv with open('./customers.csv', newline='') as customer_csv: customer = csv.reader(customer_csv) for row in customer: print(row) """ 결과 ['CustomerID', 'CustomerName', 'ContactName', 'Address', 'City'," />
    <meta name="twitter:url" content="https://heejung-gjt.github.io/" />
    <meta name="twitter:image" content="https://heejung-gjt.github.io/assets/built/images/python-cover.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Studying  Develop" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Python" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Studying  Develop",
        "logo": "https://heejung-gjt.github.io/"
    },
    "url": "https://heejung-gjt.github.io/python-csv-json",
    "image": {
        "@type": "ImageObject",
        "url": "https://heejung-gjt.github.io/assets/built/images/python-cover.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://heejung-gjt.github.io/python-csv-json"
    },
    "description": "👉 csv와 json ✔ CSV csv는 csv 형식의 표 형식 데이터를 읽고 쓰는 클래스를 구현한다. customer.csv가 파일객체이면 newline=’‘로 열려야 한다. csv 파일에서 읽은 각 행(row)은 문자열 리스트로 반환된다 import csv with open('./customers.csv', newline='') as customer_csv: customer = csv.reader(customer_csv) for row in customer: print(row) """ 결과 ['CustomerID', 'CustomerName', 'ContactName', 'Address', 'City',"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="python csv와 json 이용하여 데이터 인코딩, 디코딩하기" href="/feed.xml" />

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LESPMGXKR3"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-LESPMGXKR3');
</script>
</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://heejung-gjt.github.io/">Studying  Develop</a>
            
        
        
            
<ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <!-- <li class="nav-about" role="menuitem"><a href="/about/">About</a></li> -->
    <li class="nav-jekyll" role="menuitem"><a href="/tag/html/">HTML&CSS</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/js/">JavaScript</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/python/">Python</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/django/">Django</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/tag/linux/">linux</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/algorithm/">algorithm</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/computer-science/">computer science</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/tag/git/">Git</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/tag/til/">TIL</a></li>


<!--    <li class="nav-archive" role="menuitem">-->
<!--        <a href="_includes/archive.html">All Posts</a>-->
<!--    </li>-->
</ul>
        
    </div>
    <!-- subscribe 안함
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Subscribe</a>
        
    </div>-->
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-python post ">

            <header class="post-full-header">

              <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2021-02-03">2021-02-03</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/python/'>PYTHON</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">python csv와 json 이용하여 데이터 인코딩, 디코딩하기</h1>
            </header>

<!--  
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/python-cover.png)">
            </figure>
            
-->

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    
<h2 id="-csv와-json">👉 csv와 json</h2>
<p><br /></p>

<h3 id="-csv">✔ CSV</h3>
<p><strong>csv는 csv 형식의 표 형식 데이터를 읽고 쓰는 클래스를 구현한다.</strong></p>

<p>customer.csv가 파일객체이면 newline=’‘로 열려야 한다. csv 파일에서 읽은 각 행(row)은 문자열 리스트로 반환된다</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'./customers.csv'</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s">''</span><span class="p">)</span> <span class="k">as</span> <span class="n">customer_csv</span><span class="p">:</span>
    <span class="n">customer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">customer_csv</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">customer</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="s">"""
결과
['CustomerID', 'CustomerName', 'ContactName', 'Address', 'City', 'PostalCode', 'Country']
['1', 'Alfreds Futterkiste', 'Maria Anders', 'Obere Str. 57', 'Berlin', '12209', 'Germany']
['2', 'Ana Trujillo Emparedados y helados', 'Ana Trujillo', 'Avda. de la Constitución 2222', 'México D.F.', '05021', 'Mexico']
['3', 'Antonio Moreno Taquería', 'Antonio Moreno', 'Mataderos 2312', 'México D.F.', '05023', 'Mexico']
.
.
"""</span>        
</code></pre></div></div>
<p><br /></p>

<h3 id="-json">✔ JSON</h3>

<p><strong>json은 다른 플랫폼으로 생성한 데이터를 전송하기 위해서 json 자료형태로 바꾸는 과정이다.전송하고 싶은 데이터를 dictionary 형태로 생성한 후 dump를 이용하여 자료를 인코딩 한다.
받은 json 데이터를 python에서 사용하기 위해 load를 이용하여 자료를 디코딩한다.</strong></p>

<blockquote>
  <ol>
    <li>dump (dict -&gt; str) python객체를 json 데이터로 쓰기</li>
    <li>load (str -&gt; dict) json 데이터를 python 객체로 읽기</li>
  </ol>
</blockquote>

<hr />

<h3 id="실습01">실습01</h3>
<p>(dump와 load이용해 dict 데이터 인코딩 디코딩하기)</p>

<p><strong>1.실습을 위해서 딕셔너리 형태의 data를 생성한다</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'users'</span><span class="p">:[</span>
    <span class="p">{</span><span class="s">'name'</span><span class="p">:</span><span class="s">'KD Hong'</span><span class="p">,</span> <span class="s">'locale'</span><span class="p">:</span><span class="s">'Seoul, KR'</span><span class="p">},</span>
    <span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'John Doe'</span><span class="p">,</span> <span class="s">'locale'</span><span class="p">:</span><span class="s">'New York, US'</span><span class="p">},</span>
    <span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'Jane Doe'</span><span class="p">,</span> <span class="s">'locale'</span><span class="p">:</span><span class="s">'London, UK'</span><span class="p">}</span>
<span class="p">]}</span>

<span class="s">"""
결과
{'users': [{'name': 'KD Hong', 'locale': 'Seoul, KR'}, {'name': 'John Doe', 'locale': 'New York, US'}, {'name': 'Jane Doe', 'locale': 'London, UK'}]} 
"""</span>
</code></pre></div></div>
<p><br /></p>

<p><strong>2.생성한 dict 자료를 json 데이터로 변경하기 위해 dump를 이용하여 users.json 파일에 작성한 dict자료를 넣는다</strong></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">json</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'users.json'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

<span class="s">"""
결과 : 새로운 json파일인 users.json이 생성된다   
{"users": [{"name": "KD Hong", "locale": "Seoul, KR"}, {"name": "John Doe", "locale": "New York, US"}, {"name": "Jane Doe", "locale": "London, UK"}]}
"""</span>
</code></pre></div></div>
<p><br /></p>

<p><strong>3.json 데이터를 load를 이용하여 python객체로 읽어온다</strong></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'users.json'</span><span class="p">,</span><span class="s">'r'</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">dse_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="s">"""
결과
{'users': [{'name': 'KD Hong', 'locale': 'Seoul, KR'}, {'name': 'John Doe', 'locale': 'New York, US'}, {'name': 'Jane Doe', 'locale': 'London, UK'}]}
"""</span>
</code></pre></div></div>
<hr />

<h3 id="실습02">실습02</h3>
<p>(customer.csv파일을 인코딩하여 json 파일로 변환하기)
<br /></p>

<p><strong>1. csv파일 customer.csv파일을 읽기 형식으로 가지고 오는데  리스트 컴프리헨션을 이용하여 리스트 형태로 읽어온다</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'./customers.csv'</span><span class="p">,</span><span class="s">'r'</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="s">"</span><span class="err">
</span><span class="s">    customer = csv.reader(f)</span><span class="err">
</span><span class="s">    customer_list = [i for i in customer]</span><span class="err">

</span><span class="s">"""</span>
<span class="err">결과</span>

<span class="o">-------------------</span><span class="n">customer</span><span class="o">.</span><span class="n">csv</span> <span class="err">파일</span><span class="o">-------------------</span>
<span class="p">[[</span><span class="s">'CustomerID'</span><span class="p">,</span>
  <span class="s">'CustomerName'</span><span class="p">,</span>
  <span class="s">'ContactName'</span><span class="p">,</span>
  <span class="s">'Address'</span><span class="p">,</span>
  <span class="s">'City'</span><span class="p">,</span>
  <span class="s">'PostalCode'</span><span class="p">,</span>
  <span class="s">'Country'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'1'</span><span class="p">,</span>
  <span class="s">'Alfreds Futterkiste'</span><span class="p">,</span>
  <span class="s">'Maria Anders'</span><span class="p">,</span>
  <span class="s">'Obere Str. 57'</span><span class="p">,</span>
  <span class="s">'Berlin'</span><span class="p">,</span>
  <span class="s">'12209'</span><span class="p">,</span>
  <span class="s">'Germany'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'2'</span><span class="p">,</span>
  <span class="s">'Ana Trujillo Emparedados y helados'</span><span class="p">,</span>
  <span class="s">'Ana Trujillo'</span><span class="p">,</span>
  <span class="s">'Avda. de la Constitución 2222'</span><span class="p">,</span>
  <span class="s">'México D.F.'</span><span class="p">,</span>
  <span class="s">'05021'</span><span class="p">,</span>
  <span class="s">'Mexico'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'3'</span><span class="p">,</span>
  <span class="s">'Antonio Moreno Taquería'</span><span class="p">,</span>
  <span class="s">'Antonio Moreno'</span><span class="p">,</span>
  <span class="s">'Mataderos 2312'</span><span class="p">,</span>
  <span class="s">'México D.F.'</span><span class="p">,</span>
  <span class="s">'05023'</span><span class="p">,</span>
  <span class="s">'Mexico'</span><span class="p">],</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="p">]</span>
<span class="s">"""
</span></code></pre></div></div>
<p><br /></p>

<p><strong>2.읽어온 리스트 형태의 데이터에서 데이터 정보가 아닌 0번째 데이터를 제외한 모든 데이터를 딕셔너리 형태로 바꾼다</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">users</span> <span class="o">=</span> <span class="p">{</span><span class="s">'users'</span><span class="p">:[]}</span>  <span class="c"># customers 데이터를 담을 dict 정의</span>

<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">customer</span> <span class="nb">list</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span> <span class="c"># 데이터 정보가 아닌(column name) 0번째를 제외한 고객 데이터</span>
    <span class="n">user_dict</span> <span class="o">=</span><span class="p">{}</span>  <span class="c"># 한명의 정보를 담을 dict 정의</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">customer_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>  <span class="c"># enumerate를 이용하여 column name을 이용해 index와 key를 생성한다</span>
        <span class="n">user_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>  <span class="p">{</span><span class="n">column</span> <span class="n">name</span><span class="p">}</span> <span class="o">=</span> <span class="err">고객데이터</span>
    <span class="n">users</span><span class="p">[</span><span class="s">'users'</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">user_dict</span><span class="p">)</span>  <span class="c"># 완성된 고객 데이터 dict 를  users['users']에 추가</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'./customers.json'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span><span class="k">as</span> <span class="n">g</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">users</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>  <span class="c">#customers.json 데이터 생성</span>

<span class="s">"""
결과
새로운 customers.json 파일이 생성되고 json파일로 인코딩된 customer 데이터가 들어간다

-------------------customer.json 파일-------------------
"users": [{"CustomerID": "1", "CustomerName": "Alfreds Futterkiste", "ContactName": "Maria Anders", "Address": "Obere Str. 57", "City": "Berlin", "PostalCode": "12209", "Country": "Germany"}, {"CustomerID": "2", "CustomerName": "Ana Trujillo Emparedados y helados", "ContactName": "Ana Trujillo", "Address": "Avda. de la Constituci</span><span class="se">\u00f3</span><span class="s">n 2222", "City": "M</span><span class="se">\u00e9</span><span class="s">xico D.F.", "PostalCode": "05021", "Country": "Mexico"}, {"CustomerID": "3", "CustomerName": "Antonio Moreno Taquer</span><span class="se">\u00ed</span><span class="s">a", "ContactName": "Antonio Moreno", "Address": "Mataderos 2312", "City": "M</span><span class="se">\u00e9</span><span class="s">xico D.F.", 
.
.

"""</span>
</code></pre></div></div>
<p>for index, key in enumerate(customer_list[0]):  <br />
        user_dict[key] = row[index]</p>

<p>enumerate를 이용하여 column name을 이용해 index와 key를 생성한다 : column name 인 key값 CustomerID를 새로운 dict 인 user_dict의 키값으로 지정하고  이에 해당되는 index값 1을 이용해 고객의 데이터 리스트인 row, 즉 첫번째 리스트의 인덱스 1번에 있는 값 1을  value값으로 지정하여 고객 각각의 정보를 user_dict에 넣는다</p>

<hr />

<h3 id="실습03">실습03</h3>
<p><a href="https://www.data.go.kr/data/15007386/fileData.do">👉 해당공공데이터 csv 파일 json 파일로 converting 하기</a></p>

<p>공공데이터포털 사이트에 있는 파이들은 대부분 cp949로 다운이 되어지므로 우분투에서 사용시
리눅스 시스템에서 파일 인코딩을 확인하고 utf-8로 바꾸어준다</p>

<blockquote>
  <h4 id="1파일-인코딩-확인--file--bi-">1.파일 인코딩 확인 : file -bi <파일명></파일명></h4>
  <h4 id="2파일-인코딩-변환--iconv--c--f---t----">2.파일 인코딩 변환 : iconv -c -f <기존 인코딩명=""> -t <변경할 인코딩명=""> <파일명> &gt; <새로 적용할="" 파일명=""></새로></파일명></변경할></기존></h4>
</blockquote>

<p><strong>1.csv파일 리스트 형태로 열기</strong></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'./aa.csv'</span><span class="p">,</span><span class="s">'r'</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">people_num</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">people_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">people_num</span><span class="p">]</span>
<span class="n">people_list</span>
<span class="s">"""
결과
[['구별',
  '동',
  '인구수_합계',
  '인구수_남',
  '인구수_여',
  '19세 이상_계',
  '19세 이상_남',
  '19세 이상_여',
  '65세 이상_계',
  '65세 이상_남자',
  '65세 이상_여자',
  '세대수',
  '재외국민'],
 ['수정구',
  '신흥1동         ',
  '13511',
  '7107',
  '6404',
  '12381',
  '6519',
  '5862',
  '2567',
  '1073',
  '1494',
  '7898',
  '9'],
  .
  .
"""</span>
</code></pre></div></div>
<p><br /></p>

<p><strong>2.해당 데이터 딕셔너리 형태로 변환하기</strong></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">json</span>

<span class="n">people</span> <span class="o">=</span> <span class="p">{</span><span class="s">'people'</span><span class="p">:[]}</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">people_list</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
    <span class="n">people_dict</span><span class="o">=</span><span class="p">{}</span>
    
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">people_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="n">people_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
    <span class="n">people</span><span class="p">[</span><span class="s">'people'</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">people_dict</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'./people_num.json'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'cp949'</span><span class="p">)</span> <span class="k">as</span> <span class="n">num</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">people</span><span class="p">,</span><span class="n">num</span><span class="p">)</span>
<span class="s">"""
결과
{'people': [{'구별': '수정구', '동': '신흥1동         ', '인구수_합계': '13511', '인구수_남': '7107', '인구수_여': '6404', '19세 이상_계': '12381', '19세 이상_남': '6519', '19세 이상_여': '5862', '65세 이상_계': '2567', '65세 이상_남자': '1073', '65세 이상_여자': '1494', '세대수': '7898', '재외국민': '9'}, {'구별': '수정구', '동': '신흥2동         ', '인구수_합계': '20239', '인구수_남': '9911', '인구수_여': '10328', '19세 이상_계': '17042', '19세 이상_남': '8328', '19세 이상_여': '8714', '65세 이상_계': '2686', '65세 이상_남자': '1277', '65세 이상_여자': '1409', '세대수': '7693', '재외국민': '22'}, {'구별': '수정구', '동': '신흥3동         ', '인구수_합계': '11309', '인구수_남': '5893', '인구수_여': '5416', '19세 이상_계': '10318', '19세 이상_남': '5377', '19세 이상_여': '4941', '65세 이상_계': '2020', '65세 이상_남자': '878', '65세 이상_여자': '1142', '세대수': '6450', '재외국민': '9'}, {'구별': '수정구', '동': '태평1동         ', '인구수_합계': '15566', '인구수_남': '7
.
.  
"""</span>
</code></pre></div></div>
<p><br /></p>

<p><strong>3. load로 json 가져오기</strong>  <br />
(구, 동, 인구수_남 데이터 가져오기)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'people_num.json'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">des_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">des_data</span><span class="p">[</span><span class="s">'people'</span><span class="p">]:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'구: {} 동: {} man: {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s">'구별'</span><span class="p">],</span><span class="n">row</span><span class="p">[</span><span class="s">'동'</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">row</span><span class="p">[</span><span class="s">'인구수_남'</span><span class="p">]))</span>
<span class="s">"""
결과
구: 수정구 동: 신흥1동 man: 7107
구: 수정구 동: 신흥2동 man: 9911
구: 수정구 동: 신흥3동 man: 5893
구: 수정구 동: 태평1동 man: 7960
구: 수정구 동: 태평2동 man: 7853
구: 수정구 동: 태평3동 man: 6956
구: 수정구 동: 태평4동 man: 6830
구: 수정구 동: 수진1동 man: 6552
구: 수정구 동: 수진2동 man: 8125
구: 수정구 동: 단대동 man: 7843
구: 수정구 동: 산성동 man: 5179
구: 수정구 동: 양지동 man: 4932
구: 수정구 동: 복정동 man: 6107
구: 수정구 동: 위례동 man: 22343
구: 수정구 동: 신촌동 man: 2549
.
.
"""</span>
</code></pre></div></div>

                </div>
            </section>
    </div>
</main>

        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://heejung-gjt.github.io/">Studying  Develop</a> &copy; 2021</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://github.com/heejung-gjt" target="_blank" rel="noopener">heejung's GitHub Pages</a>
<!--                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener"></a>-->
                </section>
                <nav class="site-footer-nav">
<!--                    <a href="/">Latest Posts</a>-->
                    
                    
                    <a href="https://heejung-gjt.github.io" target="_blank" rel="noopener">github blog</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Subscribe to Studying  Develop</h1>
                <p class="subscribe-overlay-description">Stay up to date! Get all the latest &amp; greatest posts delivered straight to your inbox</p>
<!--                <!--
<form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>
-->-->
            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-LESPMGXKR3', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
