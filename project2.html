<!DOCTYPE html>
<html>
<head>


    <!-- Document Settings -->
    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />


    <!--syntax.css 추가-->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!--font awesome-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">

    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="개발 공부하는 블로그" />
    <link rel="shortcut icon" href="https://heejung-gjt.github.io/assets/built/images/favicon.png" type="image/png" />
    <link rel="canonical" href="https://heejung-gjt.github.io/project2" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="studying developer" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="백엔드 프리온보딩 1주차 두번째 프로젝트 회고" />
    <meta property="og:description" content="원티드 1주차 프레시코드 기업과제 진행기간 21.11.04 ~ 21.11.06 구현해야 하는 기능 로그인 기능 사용자 인증을 통해 상품 관리를 할 수 있어야 한다 JWT 인증 방식을 이용한다 상품 추가/수정/삭제는 admin권한을 가지 사용자만 이용할 수 있다 상품 관리 기능 상품 조회는 하나 또는 전체 목록을 조회할 수 있으며 전체 목록은 페이징 기능이" />
    <meta property="og:url" content="https://heejung-gjt.github.io/project2" />
    <meta property="og:image" content="https://heejung-gjt.github.io/assets/built/images/today.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2021-11-07T12:00:00+09:00" />
    <meta property="article:modified_time" content="2021-11-07T12:00:00+09:00" />
    <meta property="article:tag" content="Project" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="백엔드 프리온보딩 1주차 두번째 프로젝트 회고" />
    <meta name="twitter:description" content="원티드 1주차 프레시코드 기업과제 진행기간 21.11.04 ~ 21.11.06 구현해야 하는 기능 로그인 기능 사용자 인증을 통해 상품 관리를 할 수 있어야 한다 JWT 인증 방식을 이용한다 상품 추가/수정/삭제는 admin권한을 가지 사용자만 이용할 수 있다 상품 관리 기능 상품 조회는 하나 또는 전체 목록을 조회할 수 있으며 전체 목록은 페이징 기능이" />
    <meta name="twitter:url" content="https://heejung-gjt.github.io/" />
    <meta name="twitter:image" content="https://heejung-gjt.github.io/assets/built/images/today.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="studying developer" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Project" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "studying developer",
        "logo": "https://heejung-gjt.github.io/"
    },
    "url": "https://heejung-gjt.github.io/project2",
    "image": {
        "@type": "ImageObject",
        "url": "https://heejung-gjt.github.io/assets/built/images/today.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://heejung-gjt.github.io/project2"
    },
    "description": "원티드 1주차 프레시코드 기업과제 진행기간 21.11.04 ~ 21.11.06 구현해야 하는 기능 로그인 기능 사용자 인증을 통해 상품 관리를 할 수 있어야 한다 JWT 인증 방식을 이용한다 상품 추가/수정/삭제는 admin권한을 가지 사용자만 이용할 수 있다 상품 관리 기능 상품 조회는 하나 또는 전체 목록을 조회할 수 있으며 전체 목록은 페이징 기능이"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="백엔드 프리온보딩 1주차 두번째 프로젝트 회고" href="/feed.xml" />

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LESPMGXKR3"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-LESPMGXKR3');
</script>
</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://heejung-gjt.github.io/">studying developer</a>
            
        
        
            
<ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <!-- <li class="nav-about" role="menuitem"><a href="/about/">About</a></li> -->
    <li class="nav-jekyll" role="menuitem"><a href="/tag/wanted/">원티드</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/tag/project/">프로젝트TIL</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/js/">JavaScript</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/python/">Python</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/django/">Django</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/celery/">Celery</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/rabbitmq/">RabbitMQ</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/oauth/">OAuth</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/jwt/">JWT</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/cors/">CORS</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/tag/linux/">linux</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/algorithm/">algorithm</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/network/">Network</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/os/">OS</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/database/">DataBase</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/aws/">AWS</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/tag/git/">Git</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/tag/til/">TIL</a></li>
    <li class="nav-jekyll" role="menuitem" style="display: none" ><a href="/tag/wecode/">위코드</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/coding/">코테</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/interview/">면접</a></li>
<!--    <li class="nav-jekyll" role="menuitem" style="display: none" ><a href="/tag/aimmo/">에이모</a></li>-->
<!--    <li class="nav-archive" role="menuitem">-->
<!--        <a href="_includes/archive.html">All Posts</a>-->
<!--    </li>-->
</ul>
        
    </div>
    <!-- subscribe 안함
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Subscribe</a>
        
    </div>-->
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-project tag- tag-wecode tag-wanted post tag project ">

            <header class="post-full-header">

              <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2021-11-07">2021-11-07</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/project/'>PROJECT</a>,
                            
                        
                            
                               <a href='/tag//'>프레시코드</a>,
                            
                        
                            
                               <a href='/tag/wecode/'>WECODE</a>,
                            
                        
                            
                               <a href='/tag/wanted/'>WANTED</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">백엔드 프리온보딩 1주차 두번째 프로젝트 회고</h1>
            </header>

<!--  
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/today.png)">
            </figure>
            
-->

            <section class="post-full-content">

                <div class="kg-card-markdown">

                    
<p><br /></p>

<h2 id="원티드-1주차-프레시코드-기업과제">원티드 1주차 프레시코드 기업과제</h2>

<hr />

<h3 id="진행기간">진행기간</h3>

<blockquote>
  <p>21.11.04 ~ 21.11.06</p>
</blockquote>

<hr />

<h3 id="구현해야-하는-기능">구현해야 하는 기능</h3>

<ul>
  <li>로그인 기능
    <ul>
      <li>사용자 인증을 통해 상품 관리를 할 수 있어야 한다</li>
      <li>JWT 인증 방식을 이용한다</li>
      <li>상품 추가/수정/삭제는 admin권한을 가지 사용자만 이용할 수 있다</li>
    </ul>
  </li>
  <li>상품 관리 기능
    <ul>
      <li>상품 조회는 하나 또는 전체 목록을 조회할 수 있으며 전체 목록은 페이징 기능이 있다</li>
      <li>한 페이지당 아이템 수는 5개이다</li>
      <li>사용자는 상품 조회만 가능하다</li>
      <li>관리자는 상품 추가/수정/삭제를 할 수 있다</li>
    </ul>
  </li>
</ul>

<hr />

<h3 id="나의-역할">나의 역할</h3>

<ul>
  <li>상품 관리 기능(상품 목록 조회, 상품 페이징 처리, 메뉴 수정, 메뉴 태그 수정)</li>
  <li>모델링 설계(공통)</li>
  <li>PostMan API 명세 작성</li>
</ul>

<hr />

<h3 id="배운내용">배운내용</h3>

<ul>
  <li>unit test 코드 구현</li>
  <li>기본 환경 세팅에 있어 팀원 컨벤션 맞추기</li>
</ul>

<hr />

<h3 id="프로젝트-회고">프로젝트 회고</h3>

<p>과제가 주어지면 팀원들과 가장 먼저 진행하는 것은 과제 기능에 대한 모델링이다. 모델링 설계가 제대로 진행되어야 
기능 개발 할때 어려움이 덜 할 것이라는 것을 모두들 알고 있었다. 프레시코드의 API과제에서는 유저가 관리자와 사용자로 나뉘어져 있어야 했다.
관리자만이 상품 C, U, D가 가능했고 사용자는 상품 조회만이 가능했다.</p>

<p>모델링 설계를 진행할때 고려했던 점은 서비스가 확장되는 것을 고려하여 테이블을 생성했다. Badge, Size, Tag의 테이블을 따로 두었고 Item, Menu 테이블에서 FK로 참조하는 방식으로 모델을 설계했다.</p>

<p>이 과정에서 <strong>모델 정규화</strong>  라는 단어를 쓰게 되었는데 모델링을 설계하며 데이터의 중복을 방지하고 이후 c,r,u,d를 구현하는 과정에서 문제 없이 진행할 수 있게 스키마를 설계하는 방식이 바로 모델 정규화라는 것을 이번에 제대로 이해하게 되었다.</p>

<p>이 과제에서 나는 상품 관리 기능 중 상품 조회와 상품 수정 부분을 구현하게 되었다. 이 과정에서 조금 고민이 되었던 부분이 존재했다. 메뉴를 수정하는 것과 메뉴가 가지고 있는 태그부분을 수정하는 것을 어떻게 진행해야 하는지 고민이 되었다.
처음에 하나의 view에서 메뉴와 메뉴의 태그를 모두 수정하는 로직을 작성하였다. 이후 코드를 보게 되니 if~else 파티였다. ^^ 코드 가독성면에서 좋지 않은것 같았고 그래서 다른 팀원의 의견을 묻게 되었다.</p>

<p>그리고 들었던 피드백은 굳이 메뉴 수정과 메뉴에 해당되는 태그를 같은 view에서 진행할 필요가 있냐는 것였다. 나는 당연히 메뉴를 수정하는 로직이니 같은 view에다 넣은게 당연하다고 생각했다. 그런데 팀원의 의견을 들어보니 
메뉴 수정하는 view와 메뉴의 태그를 수정하는 view가 나뉘는 것이 가독성 면에서도 훨씬 나아질 것 이라는 생각이 들었다.</p>

<p>피드백을 들은 후 MenuDetailView class에서 제품의 name과 description을 수정하는 로직을 구현하였고 MenuItemsView라는 새로운 class를 만들어 이곳에서 메뉴에 해당하는 item들의 정보를 업데이트 하는 
로직을 구현하였다.</p>

<p>메뉴가 존재하는지 안하는지 조건을 걸기 위해 first라는 쿼리문을 사용하였지만 exists라는 더 명확한 쿼리문이 존재하였고 다른 팀원이 이를 
언급해주었다. 어떻게 보면 굉장히 사소해 보이지만 이런 부분을 피드백 해주는 덕분에 코드의 가독성과 효율적인 로직에 대한 생각을 많이 하게 되는 것 같았다</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
           
 <span class="k">if</span> <span class="ow">not</span> <span class="n">Menu</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="nb">filter</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s">"menu_id"</span><span class="p">])</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span> <span class="c"># if not Menu.objects.filter(id=data["menu_id"]).first():</span>
    <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="s">"MENU_NOT_FOUND"</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>
</code></pre></div></div>

<p><br /></p>

<h4 id="listview-기능-구현">ListView 기능 구현</h4>

<p>그 다음으로 적절한 조건처리가 되지 않아 배포후에 발생하는 에러가 ListView에서 나왔다.. 밤을 새고 있었기에 팀원들에게 굉장히 미안했다..<br />
아래 로직에서 badge 부분의 적절한 조건 처리를 해주지 않아 실제 badge에 들어가는 데이터가 없으면 에러가 발생했다. 
badge는 해당 제품이 신상품인지 best 상품인지 이런 데이터가 들어가야 하는 부분이다. 실제로 아무런 데이터가 들어가지 않을 수 있으니
그 부분을 처리해주어야 한다. 하지만 나는 단순히 <code class="highlighter-rouge">product.badge.name</code> 으로 name을 가져오게만 처리하여 데이터가 들어가지 않았을때를
 생각해주지 않았다. 이 덕분에 30-40분이라는 시간이 더 걸린듯 했다..</p>

<p>적절한 조건 처리와 에러처리에 굉장히 신경써야 겠다는 생각을 이날 새벽에 다짐하고 또 다짐했던 것 같다. 휴</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">menus</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"id"</span>          <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="nb">id</span><span class="p">,</span>
    <span class="s">"category"</span>    <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="s">"name"</span>        <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="s">"description"</span> <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
    <span class="s">"isSold"</span>      <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">is_sold</span><span class="p">,</span>
    <span class="s">"badge"</span>       <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">badge</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">product</span><span class="o">.</span><span class="n">badge</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">"items"</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"item"</span>   <span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="nb">id</span><span class="p">,</span>
            <span class="s">"memuID"</span> <span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">menu</span><span class="o">.</span><span class="nb">id</span><span class="p">,</span>
            <span class="s">"size"</span>   <span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s">"price"</span>  <span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">price</span><span class="p">,</span>
            <span class="s">"isSold"</span> <span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">is_sold</span><span class="p">,</span>
            <span class="p">}</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">product</span><span class="o">.</span><span class="n">item_set</span><span class="o">.</span><span class="nb">all</span><span class="p">()],</span>
    <span class="s">"tags"</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"id"</span>     <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="nb">id</span><span class="p">,</span>
            <span class="s">"menuID"</span> <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="nb">id</span><span class="p">,</span>
            <span class="s">"type"</span>   <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="nb">type</span><span class="p">,</span>
            <span class="s">"name"</span>   <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">name</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
        
</code></pre></div></div>

<hr />

<h4 id="unit-test">unit test</h4>

<p>그 다음으로 고민이였던 부분은 unit test였다. 사실 unit test작성에 미숙하였기에 정해놓았던 시간안에 unit test를 전부
작성하지 못했다. (이것도 새벽에 일어난 일이라 나 대신 unit test를 도와 작성해주신 팀원에게 감사하다..) unit test에 대한
 로직 작성을 제대로 이해하지 못하고 view에서 해주는 일까지 unit test에 작성하게 되면서 더 꼬여버렸다. test를 위해서 필요한 테이블은 모두 create해주어야 한다.</p>

<ul>
  <li>필요한 테이블은 create한다. 이때 id는 직접 지정해주어야 한다</li>
  <li>생성한 테이블은 test이후에 모두 삭제되어야 한다. 이때 참조되어 있는 순으로 먼저 삭제해주어야 에러가 나지 않는다</li>
  <li>성공 케이스의 경우 성공할 수 밖에 없는 데이터를 넣어서 요청만 하면 된다. 나머지는 view의 로직들이 해결해 줄 것이다</li>
  <li>실패 케이스의 경우 view에서 작성한 에러의 경우를 생각해서 이에 맞게 실패하는 케이스를 만들어주면 된다. 마찬가지로 view에서 상황에 맞게
 실패 메시지와 status를 반환해 줄 것이기 때문에 이에 맞는 메시지와 status만 잘 작성해주면 된다.</li>
  <li>FK등으로 참조하고 있는 곳에 객체를 넣을때는 그냥 간단하게 <strong>menu_id = 1</strong> 이런식으로 넣어주자. 굳이 <strong>menu = menu.objects.get(id=1)</strong> 
이런식으로 넣어줄 필요가 없다 !</li>
</ul>

<hr />

<h3 id="리펙토링-후-코드">리펙토링 후 코드</h3>

<p>코드 리뷰 후 <strong>리펙토링</strong> 하는 시간을 가졌다</p>

<p>제품을 수정하는 과정에서 아래와 같이 각 제품이 가지고 있는 여러 아이템이 존재하고 있었다</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>menus: <span class="o">[</span>
    <span class="o">{</span>
      id: 245,
      category: <span class="s2">"SALAD"</span>,
      name: <span class="s2">"깔라마리 달래 샐러드"</span>,
      description: <span class="s2">"해산물 샐러드"</span>,
      isSold: <span class="nb">false</span>,
      badge: <span class="s2">"NEW"</span>,
          items: <span class="o">[</span>
            <span class="o">{</span>
              id: 1,
              menuId: 245,
              name: <span class="s2">"미디움"</span>,
              size: <span class="s2">"M"</span>,
              price: 8000,
              isSold: <span class="nb">false</span>,
            <span class="o">}</span>,
            <span class="o">{</span>
              id: 2,
              menuId: 245,
              name: <span class="s2">"라지"</span>,
              size: <span class="s2">"L"</span>,
              price: 10000,
              isSold: <span class="nb">false</span>,
            <span class="o">}</span>,
          <span class="o">]</span>,
    <span class="o">}</span>
</code></pre></div></div>

<p><br /></p>

<ul>
  <li>초반에는 MenuDetailView라는 class에서 put메소드에서 menu의 데이터와 items를 한번에 수정하는 로직을 작성했다</li>
  <li>기능구현이 끝난 후 코드를 바라보니 하나의 view에 너무 많은 if-else문이 사용되고 있었고 menu와 item에 대한 view를 따로 구현을 하는게 가독성면과 효율성면에서 더 좋을 것 같다는 생각이 들었고 팀원들과 상의 후 로직을 수정했다</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 메뉴 수정 view</span>

<span class="k">class</span> <span class="nc">MenuDetailView</span><span class="p">(</span><span class="n">APIView</span><span class="p">):</span>
	<span class="nd">@authorizer</span>
    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">menu_id</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">role_id</span> <span class="o">!=</span> <span class="n">Role</span><span class="o">.</span><span class="n">Type</span><span class="o">.</span><span class="n">ADMIN</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="s">"UNAUTHORIZED"</span><span class="p">},</span> <span class="n">status</span> <span class="o">=</span> <span class="mi">401</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">Menu</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="nb">filter</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">menu_id</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
                <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="n">f</span><span class="s">"POSTING_{menu_id}_NOT_FOUND"</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>
            
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span> <span class="ow">or</span> <span class="n">data</span><span class="p">[</span><span class="s">"description"</span><span class="p">]):</span>
                <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="s">"No input"</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>

            <span class="n">menu</span> <span class="o">=</span> <span class="n">Menu</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">menu_id</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">"name"</span><span class="p">]:</span>
                <span class="n">menu</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span>
            
            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">"description"</span><span class="p">]:</span>
                <span class="n">menu</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">"description"</span><span class="p">]</span>

            <span class="n">menu</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"menu name"</span><span class="p">:</span> <span class="n">menu</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">"menu desc"</span><span class="p">:</span> <span class="n">menu</span><span class="o">.</span><span class="n">description</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

        <span class="k">except</span> <span class="nb">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="s">"KEY_ERROR"</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 아이템 수정 view</span>

<span class="k">class</span> <span class="nc">MenuItemsView</span><span class="p">(</span><span class="n">APIView</span><span class="p">):</span>
    <span class="nd">@authorizer</span>
    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">role_id</span> <span class="o">!=</span> <span class="n">Role</span><span class="o">.</span><span class="n">Type</span><span class="o">.</span><span class="n">ADMIN</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="s">"UNAUTHORIZED"</span><span class="p">},</span> <span class="n">status</span> <span class="o">=</span> <span class="mi">401</span><span class="p">)</span>

            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
            
            <span class="n">item</span> <span class="o">=</span> <span class="n">Item</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">item_id</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">"price"</span><span class="p">]</span> <span class="ow">or</span> <span class="n">data</span><span class="p">[</span><span class="s">"size"</span><span class="p">]):</span>
                <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="s">"NO_INPUT"</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">"price"</span><span class="p">]:</span>
                <span class="n">item</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">"price"</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">"size"</span><span class="p">]:</span>
                <span class="n">item</span><span class="o">.</span><span class="n">size_id</span> <span class="o">=</span> <span class="n">Size</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s">"size"</span><span class="p">])</span><span class="o">.</span><span class="nb">id</span>

            <span class="n">item</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"item price"</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">price</span><span class="p">,</span> <span class="s">"item size"</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">name</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

        <span class="k">except</span> <span class="nb">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="s">"KEY_ERROR"</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>

        <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="s">"VALUE_ERROR"</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">Item</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="s">"ITEMS_NOT_FOUND"</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">Size</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s">"message"</span><span class="p">:</span> <span class="s">"SIZE_NOT_FOUND"</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>
</code></pre></div></div>

<p>로직을 중간에 수정하려고 하다보니 생각보다 많은 시간이 걸렸지만 코드의 효율성면을 따졌을땐 코드 수정은 잘 한 선택같았다 ! ㅎㅎㅎ 물론 시간이 배로 걸렸지만 내 의견을 존중해주고 더 나은 쪽을 흔쾌히 선택해주었던 팀원들에게 고마웠다 ! 
코드를 수정하며 들었던 생각은 코드를 짤때는 잘 모른다는 것이다. 다 짜고 난 뒤에야 고쳐야 할 부분들, 비효율적인 코드 로직들이 보인다</p>

<hr />

<h3 id="진행한-소감">진행한 소감</h3>

<p>익숙치 않은 unit test작성, 아직 미숙한 팀원끼리의 커뮤니케이션으로 또다시 밤을 새게 되었다. 아주 꼴딱 새버렸다.. 모든 팀원들이
 지친게 눈에 보였고 어떻게든 프로젝트가 마무리 되었지만 누구 하나 웃을수 없는 상황이 되었다. 아무리 서로 배려한다고 해도
  밤을 새운건 모든 사람들에게 굉장한 체력소모가 되버렸다. 무사히 프로젝트는 제출되었지만 이날 제대로 잠을 잘 수가 없었다. unit test를 제대로 작성하지 못한 것과 ListView의 조건 처리를 제대로 하지 못한
  부분이 마음에 걸렸다.</p>

<p>unit test는 이후에 완벽하게 숙지하고 이해해서 다음 프로젝트는 똑같은 일로 문제가 발생하지 않게 신경써야겠다. 
조건 처리 부분에 대해서는 나의 부주의였던 것 같다. 나는 완벽히 구현되었다고 생각했지만 그렇지 못했다. 앞으로는 조건처리, 에러처리에 대해
 처음부터 생각하고 로직을 작성해야 겠다는 생각을 하게 된 것 같다.</p>

<p>혼자 프로젝트를 진행하는것과 다른점은 내가 하는 작은 실수가 큰 실수가 된다는것이다.</p>

<p>다음 프로젝트부터는 이런 부분을 신경쓰고 진행 할 것이다. 똑같은 실수를 하지 않기 위해서 ! <br />
처음의 실수는 누구나 할 수 있다고 생각한다. 하지만 똑같은 실수를 되풀이 한다는 것은 있어서는 안된다 !!</p>


                </div>
<!--                -->
<!--                -->
<!--                <span class="tag">project</span>-->
<!--                -->
<!--                <span class="tag">프레시코드</span>-->
<!--                -->
<!--                <span class="tag">wecode</span>-->
<!--                -->
<!--                <span class="tag">wanted</span>-->
<!--                -->
<!--                -->
            </section>
        
        <div id="post-disqus" class="container">
            <div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://heejung-gjt-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

        </div>
        



    </div>
</main>

        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://heejung-gjt.github.io/">studying developer</a> &copy; 2021</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://github.com/heejung-gjt" target="_blank" rel="noopener">heejung's GitHub Pages</a>
<!--                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener"></a>-->
                </section>
                <nav class="site-footer-nav">
<!--                    <a href="/">Latest Posts</a>-->
                    
                    
                    <a href="https://heejung-gjt.github.io" target="_blank" rel="noopener">github blog</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Subscribe to studying developer</h1>
                <p class="subscribe-overlay-description">Stay up to date! Get all the latest &amp; greatest posts delivered straight to your inbox</p>
<!--                <!--
<form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>
-->-->
            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-LESPMGXKR3', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->
    <script id="dsq-count-scr" src="//heejung-gjt-github-io.disqus.com/count.js" async></script>
</body>
</html>
